{
  "timestamp": "2025-08-18T06:43:47.301Z",
  "summary": {
    "totalTests": 17,
    "passedTests": 14,
    "failedTests": 3,
    "successRate": "82.4%",
    "totalErrors": 4,
    "totalWarnings": 1
  },
  "errors": [
    "Missing required file: jest.config.json",
    "Unit tests execution: Command failed: npm run test:unit -- --passWithNoTests\n(node:9361) ExperimentalWarning: VM Modules is an experimental feature and might change at any time\n(Use `node --trace-warnings ...` to show where the warning was created)\nFAIL tests/unit/auth.test.js\n  ● Test suite failed to run\n\n    SyntaxError: The requested module '../../src/middleware/auth.js' does not provide an export named 'refreshToken'\n\n      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:682:5)\n\n(node:9360) ExperimentalWarning: VM Modules is an experimental feature and might change at any time\n(Use `node --trace-warnings ...` to show where the warning was created)\nFAIL tests/unit/userModel.test.js (13.209 s)\n  ● User Model › User Creation › should create a valid user\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Creation › should hash password before saving\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Creation › should normalize email to lowercase\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Creation › should set default values correctly\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Validation › should require username\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Validation › should require email\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Validation › should require password\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Validation › should validate username length\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Validation › should validate email format\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Validation › should enforce unique username\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Validation › should enforce unique email\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Schema Methods › should transform JSON output correctly\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Schema Methods › should not include password in find results\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Indexes › should have proper indexes for performance\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Virtuals › should have videoCount virtual\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Pre-save Middleware › should normalize email before saving\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Pre-save Middleware › should not modify email if not changed\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Role Management › should default to user role\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Role Management › should allow admin role\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Role Management › should validate role values\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n\n  ● Test suite failed to run\n\n    MongooseError: Connection operation buffering timed out after 10000ms\n\n      26 | afterAll(async () => {\n      27 |   // Cleanup\n    > 28 |   await mongoose.connection.dropDatabase();\n         |   ^\n      29 |   await mongoose.connection.close();\n      30 |   await mongoServer.stop();\n      31 | });\n\n      at NativeConnection._waitForConnect (node_modules/mongoose/lib/connection.js:865:13)\n      at NativeConnection.dropDatabase (node_modules/mongoose/lib/connection.js:943:3)\n      at Object.<anonymous> (tests/setup.js:28:3)\n\nFAIL tests/unit/redis.test.js (10.754 s)\n  ● Redis Client Manager › Client Creation › should create Redis client with correct configuration\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Redis Client Manager › Client Creation › should register event handlers\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Redis Client Manager › Client Creation › should return same client instance on multiple calls\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Redis Client Manager › Connection Management › should connect to Redis if not already open\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Redis Client Manager › Connection Management › should not connect if already open\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Redis Client Manager › Connection Management › should handle connection errors gracefully\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Redis Client Manager › Connection Management › should disconnect properly\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Redis Client Manager › Availability Checking › should return false when Redis is not available\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Redis Client Manager › Availability Checking › should return true when Redis is connected\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Redis Client Manager › Availability Checking › should return false when client exists but not connected\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Redis Client Manager › Health Information › should return error info when Redis not available\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Redis Client Manager › Health Information › should return Redis info when available\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Redis Client Manager › Health Information › should handle Redis info errors\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Redis Client Manager › Helper Functions › getRedisClient should return client from manager\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Redis Client Manager › Helper Functions › isRedisAvailable should return manager availability\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Redis Client Manager › Reconnection Strategy › should implement reconnection strategy\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n\n  ● Test suite failed to run\n\n    MongooseError: Connection operation buffering timed out after 10000ms\n\n      26 | afterAll(async () => {\n      27 |   // Cleanup\n    > 28 |   await mongoose.connection.dropDatabase();\n         |   ^\n      29 |   await mongoose.connection.close();\n      30 |   await mongoServer.stop();\n      31 | });\n\n      at NativeConnection._waitForConnect (node_modules/mongoose/lib/connection.js:865:13)\n      at NativeConnection.dropDatabase (node_modules/mongoose/lib/connection.js:943:3)\n      at Object.<anonymous> (tests/setup.js:28:3)\n\nFAIL tests/unit/config.test.js (10.408 s)\n  ● Configuration Management › Configuration Loading › should load default configuration values\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Configuration Loading › should override defaults with environment variables\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Configuration Loading › should have proper JWT configuration structure\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Configuration Loading › should have API configuration structure\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Configuration Loading › should have rate limiting configuration\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Configuration Loading › should have upload configuration\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Configuration Validation › should pass validation with required environment variables\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Configuration Validation › should throw error when JWT_SECRET is missing\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Configuration Validation › should throw error when MONGODB_URI is missing\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Configuration Validation › should throw error when multiple required variables are missing\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Configuration Validation › should warn about missing recommended variables\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Environment Detection › should detect production environment\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Environment Detection › should detect development environment\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Environment Detection › should detect test environment\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Configuration Security › should not expose sensitive data in logs\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Configuration Security › should have secure bcrypt rounds\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Configuration Security › should have reasonable rate limits\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n\n  ● Test suite failed to run\n\n    MongooseError: Connection operation buffering timed out after 10000ms\n\n      26 | afterAll(async () => {\n      27 |   // Cleanup\n    > 28 |   await mongoose.connection.dropDatabase();\n         |   ^\n      29 |   await mongoose.connection.close();\n      30 |   await mongoServer.stop();\n      31 | });\n\n      at NativeConnection._waitForConnect (node_modules/mongoose/lib/connection.js:865:13)\n      at NativeConnection.dropDatabase (node_modules/mongoose/lib/connection.js:943:3)\n      at Object.<anonymous> (tests/setup.js:28:3)\n\nTest Suites: 4 failed, 4 total\nTests:       53 failed, 53 total\nSnapshots:   0 total\nTime:        23.899 s\nRan all test suites matching tests/unit.\n",
    "Integration tests execution: Command failed: npm run test:integration -- --passWithNoTests\n(node:9502) ExperimentalWarning: VM Modules is an experimental feature and might change at any time\n(Use `node --trace-warnings ...` to show where the warning was created)\n(node:9502) [MONGOOSE] Warning: Duplicate schema index on {\"sessionCode\":1} found. This is often due to declaring an index using both \"index: true\" and \"schema.index()\". Please remove the duplicate index definition.\n(node:9503) ExperimentalWarning: VM Modules is an experimental feature and might change at any time\n(Use `node --trace-warnings ...` to show where the warning was created)\nFAIL tests/integration/system.integration.test.js (11.28 s)\n  ● System Integration Tests › Configuration Integration › should have all required configuration loaded\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Configuration Integration › should have proper JWT configuration\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Configuration Integration › should have security configurations\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Database Integration › should connect to MongoDB successfully\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Database Integration › should have proper database name for testing\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Database Integration › should create and query models successfully\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Database Integration › should handle model relationships correctly\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Redis Integration › should handle Redis unavailability gracefully\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Redis Integration › should provide fallback behavior when Redis is down\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Redis Integration › should not throw errors when Redis operations fail\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Environment Variable Integration › should use test environment variables\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Environment Variable Integration › should override defaults with environment values\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Model Integration › should handle User model operations\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Model Integration › should handle unique constraints\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Model Integration › should handle validation errors\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Error Handling Integration › should handle database connection errors gracefully\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Error Handling Integration › should handle malformed data gracefully\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Performance Integration › should handle multiple concurrent operations\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Performance Integration › should complete operations within reasonable time\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Security Integration › should not expose sensitive data in JSON output\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Security Integration › should hash passwords correctly\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n\n  ● Test suite failed to run\n\n    MongooseError: Connection operation buffering timed out after 10000ms\n\n      26 | afterAll(async () => {\n      27 |   // Cleanup\n    > 28 |   await mongoose.connection.dropDatabase();\n         |   ^\n      29 |   await mongoose.connection.close();\n      30 |   await mongoServer.stop();\n      31 | });\n\n      at NativeConnection._waitForConnect (node_modules/mongoose/lib/connection.js:865:13)\n      at NativeConnection.dropDatabase (node_modules/mongoose/lib/connection.js:943:3)\n      at Object.<anonymous> (tests/setup.js:28:3)\n\nFAIL tests/integration/auth.integration.test.js (181.729 s)\n  ● Authentication Integration Tests › Rate Limiting › should allow requests within rate limit\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Rate Limiting › should allow requests within rate limit\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Rate Limiting › should include rate limit headers\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Rate Limiting › should include rate limit headers\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Rate Limiting › should handle multiple requests from same IP\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Rate Limiting › should handle multiple requests from same IP\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Protected Routes › should reject requests without token\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Protected Routes › should reject requests without token\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Protected Routes › should reject requests with invalid token\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Protected Routes › should reject requests with invalid token\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Protected Routes › should allow requests with valid token in header\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Protected Routes › should allow requests with valid token in header\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Protected Routes › should allow requests with valid token in cookie\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Protected Routes › should allow requests with valid token in cookie\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Protected Routes › should allow requests with valid token in query\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Protected Routes › should allow requests with valid token in query\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Authentication Flow › should complete login flow successfully\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Authentication Flow › should complete login flow successfully\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Authentication Flow › should reject login with non-existent user\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Authentication Flow › should reject login with non-existent user\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Authentication Flow › should handle malformed requests\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Authentication Flow › should handle malformed requests\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Token Validation › should validate token expiration\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Token Validation › should validate token expiration\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Token Validation › should validate token signature\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Token Validation › should validate token signature\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Security Headers › should not expose sensitive information in errors\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Security Headers › should not expose sensitive information in errors\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Security Headers › should handle various token formats gracefully\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Security Headers › should handle various token formats gracefully\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Concurrent Requests › should handle multiple concurrent authentication requests\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Concurrent Requests › should handle multiple concurrent authentication requests\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Concurrent Requests › should handle concurrent rate limiting correctly\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Concurrent Requests › should handle concurrent rate limiting correctly\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n\n  ● Test suite failed to run\n\n    MongooseError: Connection operation buffering timed out after 10000ms\n\n      26 | afterAll(async () => {\n      27 |   // Cleanup\n    > 28 |   await mongoose.connection.dropDatabase();\n         |   ^\n      29 |   await mongoose.connection.close();\n      30 |   await mongoServer.stop();\n      31 | });\n\n      at NativeConnection._waitForConnect (node_modules/mongoose/lib/connection.js:865:13)\n      at NativeConnection.dropDatabase (node_modules/mongoose/lib/connection.js:943:3)\n      at Object.<anonymous> (tests/setup.js:28:3)\n\nTest Suites: 2 failed, 2 total\nTests:       38 failed, 38 total\nSnapshots:   0 total\nTime:        181.948 s\nRan all test suites matching tests/integration.\n",
    "Test coverage analysis: Command failed: npm run test:coverage -- --passWithNoTests --silent\n(node:9637) ExperimentalWarning: VM Modules is an experimental feature and might change at any time\n(Use `node --trace-warnings ...` to show where the warning was created)\n(node:9636) ExperimentalWarning: VM Modules is an experimental feature and might change at any time\n(Use `node --trace-warnings ...` to show where the warning was created)\nFAIL tests/unit/userModel.test.js (10.97 s)\n  ● User Model › User Creation › should create a valid user\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Creation › should hash password before saving\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Creation › should normalize email to lowercase\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Creation › should set default values correctly\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Validation › should require username\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Validation › should require email\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Validation › should require password\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Validation › should validate username length\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Validation › should validate email format\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Validation › should enforce unique username\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Validation › should enforce unique email\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Schema Methods › should transform JSON output correctly\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Schema Methods › should not include password in find results\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Indexes › should have proper indexes for performance\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Virtuals › should have videoCount virtual\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Pre-save Middleware › should normalize email before saving\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Pre-save Middleware › should not modify email if not changed\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Role Management › should default to user role\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Role Management › should allow admin role\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● User Model › User Role Management › should validate role values\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n\n  ● Test suite failed to run\n\n    MongooseError: Connection operation buffering timed out after 10000ms\n\n      26 | afterAll(async () => {\n      27 |   // Cleanup\n    > 28 |   await mongoose.connection.dropDatabase();\n         |   ^\n      29 |   await mongoose.connection.close();\n      30 |   await mongoServer.stop();\n      31 | });\n\n      at NativeConnection._waitForConnect (node_modules/mongoose/lib/connection.js:865:13)\n      at NativeConnection.dropDatabase (node_modules/mongoose/lib/connection.js:943:3)\n      at Object.<anonymous> (tests/setup.js:28:3)\n\n(node:9637) [MONGOOSE] Warning: Duplicate schema index on {\"sessionCode\":1} found. This is often due to declaring an index using both \"index: true\" and \"schema.index()\". Please remove the duplicate index definition.\nFAIL tests/integration/system.integration.test.js (10.664 s)\n  ● System Integration Tests › Configuration Integration › should have all required configuration loaded\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Configuration Integration › should have proper JWT configuration\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Configuration Integration › should have security configurations\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Database Integration › should connect to MongoDB successfully\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Database Integration › should have proper database name for testing\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Database Integration › should create and query models successfully\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Database Integration › should handle model relationships correctly\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Redis Integration › should handle Redis unavailability gracefully\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Redis Integration › should provide fallback behavior when Redis is down\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Redis Integration › should not throw errors when Redis operations fail\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Environment Variable Integration › should use test environment variables\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Environment Variable Integration › should override defaults with environment values\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Model Integration › should handle User model operations\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Model Integration › should handle unique constraints\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Model Integration › should handle validation errors\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Error Handling Integration › should handle database connection errors gracefully\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Error Handling Integration › should handle malformed data gracefully\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Performance Integration › should handle multiple concurrent operations\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Performance Integration › should complete operations within reasonable time\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Security Integration › should not expose sensitive data in JSON output\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● System Integration Tests › Security Integration › should hash passwords correctly\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n\n  ● Test suite failed to run\n\n    MongooseError: Connection operation buffering timed out after 10000ms\n\n      26 | afterAll(async () => {\n      27 |   // Cleanup\n    > 28 |   await mongoose.connection.dropDatabase();\n         |   ^\n      29 |   await mongoose.connection.close();\n      30 |   await mongoServer.stop();\n      31 | });\n\n      at NativeConnection._waitForConnect (node_modules/mongoose/lib/connection.js:865:13)\n      at NativeConnection.dropDatabase (node_modules/mongoose/lib/connection.js:943:3)\n      at Object.<anonymous> (tests/setup.js:28:3)\n\nFAIL tests/unit/redis.test.js (10.534 s)\n  ● Redis Client Manager › Client Creation › should create Redis client with correct configuration\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Redis Client Manager › Client Creation › should register event handlers\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Redis Client Manager › Client Creation › should return same client instance on multiple calls\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Redis Client Manager › Connection Management › should connect to Redis if not already open\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Redis Client Manager › Connection Management › should not connect if already open\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Redis Client Manager › Connection Management › should handle connection errors gracefully\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Redis Client Manager › Connection Management › should disconnect properly\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Redis Client Manager › Availability Checking › should return false when Redis is not available\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Redis Client Manager › Availability Checking › should return true when Redis is connected\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Redis Client Manager › Availability Checking › should return false when client exists but not connected\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Redis Client Manager › Health Information › should return error info when Redis not available\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Redis Client Manager › Health Information › should return Redis info when available\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Redis Client Manager › Health Information › should handle Redis info errors\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Redis Client Manager › Helper Functions › getRedisClient should return client from manager\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Redis Client Manager › Helper Functions › isRedisAvailable should return manager availability\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Redis Client Manager › Reconnection Strategy › should implement reconnection strategy\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n\n  ● Test suite failed to run\n\n    MongooseError: Connection operation buffering timed out after 10000ms\n\n      26 | afterAll(async () => {\n      27 |   // Cleanup\n    > 28 |   await mongoose.connection.dropDatabase();\n         |   ^\n      29 |   await mongoose.connection.close();\n      30 |   await mongoServer.stop();\n      31 | });\n\n      at NativeConnection._waitForConnect (node_modules/mongoose/lib/connection.js:865:13)\n      at NativeConnection.dropDatabase (node_modules/mongoose/lib/connection.js:943:3)\n      at Object.<anonymous> (tests/setup.js:28:3)\n\nFAIL tests/unit/config.test.js (10.36 s)\n  ● Configuration Management › Configuration Loading › should load default configuration values\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Configuration Loading › should override defaults with environment variables\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Configuration Loading › should have proper JWT configuration structure\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Configuration Loading › should have API configuration structure\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Configuration Loading › should have rate limiting configuration\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Configuration Loading › should have upload configuration\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Configuration Validation › should pass validation with required environment variables\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Configuration Validation › should throw error when JWT_SECRET is missing\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Configuration Validation › should throw error when MONGODB_URI is missing\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Configuration Validation › should throw error when multiple required variables are missing\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Configuration Validation › should warn about missing recommended variables\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Environment Detection › should detect production environment\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Environment Detection › should detect development environment\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Environment Detection › should detect test environment\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Configuration Security › should not expose sensitive data in logs\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Configuration Security › should have secure bcrypt rounds\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Configuration Management › Configuration Security › should have reasonable rate limits\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n\n  ● Test suite failed to run\n\n    MongooseError: Connection operation buffering timed out after 10000ms\n\n      26 | afterAll(async () => {\n      27 |   // Cleanup\n    > 28 |   await mongoose.connection.dropDatabase();\n         |   ^\n      29 |   await mongoose.connection.close();\n      30 |   await mongoServer.stop();\n      31 | });\n\n      at NativeConnection._waitForConnect (node_modules/mongoose/lib/connection.js:865:13)\n      at NativeConnection.dropDatabase (node_modules/mongoose/lib/connection.js:943:3)\n      at Object.<anonymous> (tests/setup.js:28:3)\n\nFAIL tests/unit/auth.test.js\n  ● Test suite failed to run\n\n    SyntaxError: The requested module '../../src/middleware/auth.js' does not provide an export named 'refreshToken'\n\n      at Runtime.linkAndEvaluateModule (node_modules/jest-runtime/build/index.js:682:5)\n\nFAIL tests/integration/auth.integration.test.js (181.543 s)\n  ● Authentication Integration Tests › Rate Limiting › should allow requests within rate limit\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Rate Limiting › should allow requests within rate limit\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Rate Limiting › should include rate limit headers\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Rate Limiting › should include rate limit headers\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Rate Limiting › should handle multiple requests from same IP\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Rate Limiting › should handle multiple requests from same IP\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Protected Routes › should reject requests without token\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Protected Routes › should reject requests without token\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Protected Routes › should reject requests with invalid token\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Protected Routes › should reject requests with invalid token\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Protected Routes › should allow requests with valid token in header\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Protected Routes › should allow requests with valid token in header\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Protected Routes › should allow requests with valid token in cookie\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Protected Routes › should allow requests with valid token in cookie\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Protected Routes › should allow requests with valid token in query\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Protected Routes › should allow requests with valid token in query\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Authentication Flow › should complete login flow successfully\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Authentication Flow › should complete login flow successfully\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Authentication Flow › should reject login with non-existent user\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Authentication Flow › should reject login with non-existent user\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Authentication Flow › should handle malformed requests\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Authentication Flow › should handle malformed requests\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Token Validation › should validate token expiration\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Token Validation › should validate token expiration\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Token Validation › should validate token signature\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Token Validation › should validate token signature\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Security Headers › should not expose sensitive information in errors\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Security Headers › should not expose sensitive information in errors\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Security Headers › should handle various token formats gracefully\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Security Headers › should handle various token formats gracefully\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Concurrent Requests › should handle multiple concurrent authentication requests\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Concurrent Requests › should handle multiple concurrent authentication requests\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n  ● Authentication Integration Tests › Concurrent Requests › should handle concurrent rate limiting correctly\n\n    Instance closed unexpectedly with code \"null\" and signal \"SIGILL\"\n    The Process Exited with SIGILL, which mean illegal instruction, which is commonly thrown in mongodb 5.0+ when not having AVX available on the CPU\n\n      at MongoInstance.closeHandler (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:581:52)\n\n  ● Authentication Integration Tests › Concurrent Requests › should handle concurrent rate limiting correctly\n\n    MongooseError: Operation `users.deleteMany()` buffering timed out after 10000ms\n\n      at Timeout.<anonymous> (node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n\n\n  ● Test suite failed to run\n\n    MongooseError: Connection operation buffering timed out after 10000ms\n\n      26 | afterAll(async () => {\n      27 |   // Cleanup\n    > 28 |   await mongoose.connection.dropDatabase();\n         |   ^\n      29 |   await mongoose.connection.close();\n      30 |   await mongoServer.stop();\n      31 | });\n\n      at NativeConnection._waitForConnect (node_modules/mongoose/lib/connection.js:865:13)\n      at NativeConnection.dropDatabase (node_modules/mongoose/lib/connection.js:943:3)\n      at Object.<anonymous> (tests/setup.js:28:3)\n\nFailed to collect coverage from /home/rohan/Desktop/Video_player/backend/src/middleware/rateLimit.js\nERROR: /home/rohan/Desktop/Video_player/backend/src/middleware/rateLimit.js: Identifier 'rateLimit' has already been declared. (265:13)\n\n  263 |  * Express middleware factory for rate limiting\n  264 |  */\n> 265 | export const rateLimit = (limiterName, maxOverride, windowMsOverride) => {\n      |              ^\n  266 |   let config = rateLimiters[limiterName];\n  267 |   \n  268 |   if (!config) {\nSTACK: SyntaxError: /home/rohan/Desktop/Video_player/backend/src/middleware/rateLimit.js: Identifier 'rateLimit' has already been declared. (265:13)\n\n  263 |  * Express middleware factory for rate limiting\n  264 |  */\n> 265 | export const rateLimit = (limiterName, maxOverride, windowMsOverride) => {\n      |              ^\n  266 |   let config = rateLimiters[limiterName];\n  267 |   \n  268 |   if (!config) {\n    at constructor (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:367:19)\n    at Parser.raise (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:6630:19)\n    at ScopeHandler.checkRedeclarationInScope (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:1647:19)\n    at ScopeHandler.declareName (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:1613:12)\n    at Parser.declareNameFromIdentifier (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:7594:16)\n    at Parser.checkIdentifier (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:7590:12)\n    at Parser.checkLVal (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:7529:12)\n    at Parser.parseVarId (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:13417:10)\n    at Parser.parseVar (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:13388:12)\n    at Parser.parseVarStatement (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:13235:10)\n    at Parser.parseStatementContent (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:12856:23)\n    at Parser.parseStatementLike (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:12772:17)\n    at Parser.parseStatementListItem (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:12752:17)\n    at Parser.parseExportDeclaration (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:13939:17)\n    at Parser.maybeParseExportDeclaration (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:13898:31)\n    at Parser.parseExport (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:13817:29)\n    at Parser.parseStatementContent (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:12883:27)\n    at Parser.parseStatementLike (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:12772:17)\n    at Parser.parseModuleItem (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:12749:17)\n    at Parser.parseBlockOrModuleBlockBody (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:13321:36)\n    at Parser.parseBlockBody (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:13314:10)\n    at Parser.parseProgram (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:12630:10)\n    at Parser.parseTopLevel (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:12620:25)\n    at Parser.parse (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:14497:10)\n    at parse (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:14531:38)\n    at parser (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/core/lib/parser/index.js:41:34)\n    at parser.next (<anonymous>)\n    at normalizeFile (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/core/lib/transformation/normalize-file.js:64:37)\n    at normalizeFile.next (<anonymous>)\n    at run (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/core/lib/transformation/index.js:22:50)\n    at run.next (<anonymous>)\n    at transform (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/core/lib/transform.js:22:33)\n    at transform.next (<anonymous>)\n    at step (/home/rohan/Desktop/Video_player/backend/node_modules/gensync/index.js:261:32)\n    at /home/rohan/Desktop/Video_player/backend/node_modules/gensync/index.js:273:13\n    at async.call.result.err.err (/home/rohan/Desktop/Video_player/backend/node_modules/gensync/index.js:223:11)\n    at /home/rohan/Desktop/Video_player/backend/node_modules/gensync/index.js:189:28\n    at /home/rohan/Desktop/Video_player/backend/node_modules/@babel/core/lib/gensync-utils/async.js:67:7\n    at /home/rohan/Desktop/Video_player/backend/node_modules/gensync/index.js:113:33\n    at step (/home/rohan/Desktop/Video_player/backend/node_modules/gensync/index.js:287:14)\n    at /home/rohan/Desktop/Video_player/backend/node_modules/gensync/index.js:273:13\n    at async.call.result.err.err (/home/rohan/Desktop/Video_player/backend/node_modules/gensync/index.js:223:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\nFailed to collect coverage from /home/rohan/Desktop/Video_player/backend/src/sockets/roomSocket.js\nERROR: /home/rohan/Desktop/Video_player/backend/src/sockets/roomSocket.js: Identifier 'config' has already been declared. (7:9)\n\n   5 | import logger from '../utils/logger.js';\n   6 | import { config } from '../config/env.js';\n>  7 | import { config } from '../config/env.js';\n     |          ^\n   8 |\n   9 | // Store active sessions and participants in memory for quick access\n  10 | const activeSessions = new Map();\nSTACK: SyntaxError: /home/rohan/Desktop/Video_player/backend/src/sockets/roomSocket.js: Identifier 'config' has already been declared. (7:9)\n\n   5 | import logger from '../utils/logger.js';\n   6 | import { config } from '../config/env.js';\n>  7 | import { config } from '../config/env.js';\n     |          ^\n   8 |\n   9 | // Store active sessions and participants in memory for quick access\n  10 | const activeSessions = new Map();\n    at constructor (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:367:19)\n    at Parser.raise (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:6630:19)\n    at ScopeHandler.checkRedeclarationInScope (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:1647:19)\n    at ScopeHandler.declareName (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:1613:12)\n    at Parser.declareNameFromIdentifier (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:7594:16)\n    at Parser.checkIdentifier (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:7590:12)\n    at Parser.checkLVal (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:7529:12)\n    at Parser.finishImportSpecifier (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:14271:10)\n    at Parser.parseImportSpecifier (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:14428:17)\n    at Parser.parseNamedImportSpecifiers (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:14407:36)\n    at Parser.parseImportSpecifiersAndAfter (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:14247:37)\n    at Parser.parseImport (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:14240:17)\n    at Parser.parseStatementContent (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:12881:27)\n    at Parser.parseStatementLike (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:12772:17)\n    at Parser.parseModuleItem (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:12749:17)\n    at Parser.parseBlockOrModuleBlockBody (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:13321:36)\n    at Parser.parseBlockBody (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:13314:10)\n    at Parser.parseProgram (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:12630:10)\n    at Parser.parseTopLevel (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:12620:25)\n    at Parser.parse (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:14497:10)\n    at parse (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/parser/lib/index.js:14531:38)\n    at parser (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/core/lib/parser/index.js:41:34)\n    at parser.next (<anonymous>)\n    at normalizeFile (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/core/lib/transformation/normalize-file.js:64:37)\n    at normalizeFile.next (<anonymous>)\n    at run (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/core/lib/transformation/index.js:22:50)\n    at run.next (<anonymous>)\n    at transform (/home/rohan/Desktop/Video_player/backend/node_modules/@babel/core/lib/transform.js:22:33)\n    at transform.next (<anonymous>)\n    at step (/home/rohan/Desktop/Video_player/backend/node_modules/gensync/index.js:261:32)\n    at /home/rohan/Desktop/Video_player/backend/node_modules/gensync/index.js:273:13\n    at async.call.result.err.err (/home/rohan/Desktop/Video_player/backend/node_modules/gensync/index.js:223:11)\n    at /home/rohan/Desktop/Video_player/backend/node_modules/gensync/index.js:189:28\n    at /home/rohan/Desktop/Video_player/backend/node_modules/@babel/core/lib/gensync-utils/async.js:67:7\n    at /home/rohan/Desktop/Video_player/backend/node_modules/gensync/index.js:113:33\n    at step (/home/rohan/Desktop/Video_player/backend/node_modules/gensync/index.js:287:14)\n    at /home/rohan/Desktop/Video_player/backend/node_modules/gensync/index.js:273:13\n    at async.call.result.err.err (/home/rohan/Desktop/Video_player/backend/node_modules/gensync/index.js:223:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\nTest Suites: 6 failed, 6 total\nTests:       91 failed, 91 total\nSnapshots:   0 total\nTime:        185.1 s\n"
  ],
  "warnings": [
    "Configuration validation: Missing recommended environment variables: REDIS_URL"
  ]
}